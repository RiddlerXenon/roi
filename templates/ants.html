<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ú—É—Ä–∞–≤—å–∏–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º (ACO)</title>
  <link rel="stylesheet" href="../static/css/styles.css">
  <style>
    .description-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #2a5d31;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
      padding: 12px 16px;
      font-size: 14px;
      z-index: 1000;
    }
    .description-btn:hover {
      background: #3a7d41;
    }
    
    #descriptionModal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    
    #descriptionModal.active {
      display: flex;
    }
    
    .description-content {
      background: #222;
      border-radius: 10px;
      padding: 30px;
      max-width: 800px;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
      color: #eee;
    }
    
    .description-close {
      position: absolute;
      top: 15px;
      right: 20px;
      background: none;
      border: none;
      color: #ccc;
      font-size: 24px;
      cursor: pointer;
    }
    
    .description-close:hover {
      color: white;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>
  <div class="controls" id="controls"></div>
  
  <button class="description-btn" onclick="openDescription()">üìñ –û–ø–∏—Å–∞–Ω–∏–µ</button>
  
  <div id="descriptionModal">
    <div class="description-content">
      <button class="description-close" onclick="closeDescription()">‚úï</button>
      <h2>–ê–ª–≥–æ—Ä–∏—Ç–º –º—É—Ä–∞–≤—å–∏–Ω–æ–π –∫–æ–ª–æ–Ω–∏–∏ (ACO)</h2>
      <div id="latexContent">
        <p>–ê–ª–≥–æ—Ä–∏—Ç–º –º—É—Ä–∞–≤—å–∏–Ω–æ–π –∫–æ–ª–æ–Ω–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –º—É—Ä–∞–≤—å–µ–≤ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∏–µ–π –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø–∏—â–∏.</p>
        
        <h3>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å:</h3>
        <p><strong>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ø—É—Ç–∏:</strong></p>
        <p>$$p_{ij}^k = \frac{[\tau_{ij}]^\alpha \cdot [\eta_{ij}]^\beta}{\sum_{l \in N_i^k} [\tau_{il}]^\alpha \cdot [\eta_{il}]^\beta}$$</p>
        
        <p>–≥–¥–µ:</p>
        <ul>
          <li>$\tau_{ij}$ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–µ—Ä–æ–º–æ–Ω–∞ –Ω–∞ —Ä–µ–±—Ä–µ $(i,j)$</li>
          <li>$\eta_{ij} = \frac{1}{d_{ij}}$ ‚Äî —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–æ–±—Ä–∞—Ç–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)</li>
          <li>$\alpha$ ‚Äî –≤–∞–∂–Ω–æ—Å—Ç—å —Ñ–µ—Ä–æ–º–æ–Ω–∞</li>
          <li>$\beta$ ‚Äî –≤–∞–∂–Ω–æ—Å—Ç—å —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
        </ul>
        
        <p><strong>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–µ—Ä–æ–º–æ–Ω–∞:</strong></p>
        <p>$$\tau_{ij}(t+1) = (1-\rho) \cdot \tau_{ij}(t) + \sum_{k=1}^{m} \Delta\tau_{ij}^k$$</p>
        
        <p>–≥–¥–µ $\rho$ ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏—Å–ø–∞—Ä–µ–Ω–∏—è —Ñ–µ—Ä–æ–º–æ–Ω–∞, –∏:</p>
        <p>$$\Delta\tau_{ij}^k = \begin{cases} 
        \frac{Q}{L_k} & \text{–µ—Å–ª–∏ –º—É—Ä–∞–≤–µ–π } k \text{ –ø—Ä–æ—à—ë–ª –ø–æ —Ä–µ–±—Ä—É } (i,j) \\
        0 & \text{–∏–Ω–∞—á–µ}
        \end{cases}$$</p>
        
        <h3>–ê–ª–≥–æ—Ä–∏—Ç–º:</h3>
        <ol>
          <li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–µ—Ä–æ–º–æ–Ω–Ω—ã—Ö —Å–ª–µ–¥–æ–≤</li>
          <li>–†–∞–∑–º–µ—â–µ–Ω–∏–µ –º—É—Ä–∞–≤—å–µ–≤ –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö —É–∑–ª–∞—Ö</li>
          <li>–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π —Å–æ–≥–ª–∞—Å–Ω–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–º—É –ø—Ä–∞–≤–∏–ª—É</li>
          <li>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–µ—Ä–æ–º–æ–Ω–Ω—ã—Ö —Å–ª–µ–¥–æ–≤</li>
          <li>–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ —à–∞–≥–æ–≤ 2-4 –¥–æ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
        </ol>
        
        <p>–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∫–æ–º–º–∏–≤–æ—è–∂—ë—Ä–∞, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–Ω—ã—Ö –∑–∞–¥–∞—á –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.</p>
      </div>
    </div>
  </div>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };

    function openDescription() {
      document.getElementById('descriptionModal').classList.add('active');
      if (window.MathJax) {
        MathJax.typesetPromise();
      }
    }

    function closeDescription() {
      document.getElementById('descriptionModal').classList.remove('active');
    }
  </script>

  <script type="module">
    import { initAnts } from "../static/js/ants.js";

    const canvas = document.getElementById("canvas");
    const controlsContainer = document.getElementById("controls");
    
    const { params, createControls } = initAnts(canvas, {
      nodeCount: 10,
      alpha: 1.0,
      beta: 2.0,
      rho: 0.5,
      autoRun: false
    });

    // –°–æ–∑–¥–∞–µ–º –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    createControls(controlsContainer);
  </script>
</body>
</html>
